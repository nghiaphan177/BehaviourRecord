@model IEnumerable<BehaviourManagementSystem_ViewModels.Requests.InterventionRequest>
<div class="table-responsive">
    <table class="table table-hover table-center mb-0 datatable">
        <thead>
            <tr class="text-center">
                <th>Ngày</th>
                <th>Hồ Sơ</th>
                <th>Quản Lý</th>
                <th>Ngăn Chặn</th>
                <th>Tóm Tắt</th>
                <th class="text-right">Tùy Chọn</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
            <tr id="inter-@item.Id" class="text-center">
                @{ 
                    DateTime d = Convert.ToDateTime(item.ProfileDate);
                    string s = d.ToString("dd/MM/yyyy");
                }
                <td>@s</td>
                @if (item.ProfileIsCompeleted == true)
                {
                    <td>
                        <span class="badge badge-success">Hoàn Thành</span>
                    </td>
                }
                else
                {
                    <td>
                        <span class="badge badge-danger">Chưa Hoàn Thành</span>
                    </td>
                }
                @if (item.ManageIsCompleted == true)
                {
                    <td>
                        <span class="badge badge-success">Hoàn Thành</span>
                    </td>
                }
                else
                {
                    <td>
                        <span class="badge badge-danger">Chưa Hoàn Thành</span>
                    </td>
                }
                <td>
                    <span class="badge badge-danger">Chưa Hoàn Thành</span>
                </td>
                <td>Xin Chào</td>
                <td class="text-right">
                    <div class="actions">
                        <a href="/Intervention/Edit?id=@item.Id"
                           class="btn btn-sm bg-success-light mr-2">
                            <i class="fas fa-pen"></i>
                        </a>
                        <a  onclick=" deleteActivity('@item.Id')" class="btn btn-sm bg-danger-light">
                            <i class="fas fa-trash"></i>
                        </a>
                    </div>
                </td>
            </tr>

            }
        </tbody>
    </table>
</div>
<script>
        //Warning Message
        function deleteActivity(id) {
            swal({
                title: 'Bạn đã chắc chắn?',
                text: "Xóa trường này!",
                type: 'warning',
                showCancelButton: true,
                confirmButtonClass: 'btn btn-success',
                cancelButtonClass: 'btn btn-danger m-l-10',
                confirmButtonText: 'Yes!'
            }).then(function () {
                $.ajax({
                    url: "/Intervention/Delete",
                    data: { "id": id },
                    type: "DELETE",
                    success: function (result) {
                        if (result.status == true) {
                            swal(
                                'Đã Xóa Thành Công!',
                                '',
                                'success'
                            ),
                                $("#inter-" + id).remove();
                        }
                    }
                })
            })
        }
</script>
